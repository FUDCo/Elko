<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_65) on Sat Apr 16 15:03:40 PDT 2016 -->
<TITLE>
Context (Elko Server Framework)
</TITLE>

<META NAME="date" CONTENT="2016-04-16">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Context (Elko Server Framework)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/elkoserver/server/context/ContentsWatcher.html" title="interface in org.elkoserver.server.context"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/elkoserver/server/context/ContextKey.html" title="interface in org.elkoserver.server.context"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/elkoserver/server/context/Context.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Context.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#fields_inherited_from_class_org.elkoserver.server.context.BasicObject">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.elkoserver.server.context</FONT>
<BR>
Class Context</H2>
<PRE>
<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../../org/elkoserver/server/context/BasicObject.html" title="class in org.elkoserver.server.context">org.elkoserver.server.context.BasicObject</A>
      <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>org.elkoserver.server.context.Context</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../org/elkoserver/foundation/json/DefaultDispatchTarget.html" title="interface in org.elkoserver.foundation.json">DefaultDispatchTarget</A>, <A HREF="../../../../org/elkoserver/foundation/json/Deliverer.html" title="interface in org.elkoserver.foundation.json">Deliverer</A>, <A HREF="../../../../org/elkoserver/foundation/json/DispatchTarget.html" title="interface in org.elkoserver.foundation.json">DispatchTarget</A>, <A HREF="../../../../org/elkoserver/foundation/json/MessageRetargeter.html" title="interface in org.elkoserver.foundation.json">MessageRetargeter</A>, <A HREF="../../../../org/elkoserver/json/Encodable.html" title="interface in org.elkoserver.json">Encodable</A>, <A HREF="../../../../org/elkoserver/json/Referenceable.html" title="interface in org.elkoserver.json">Referenceable</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>Context</B><DT>extends <A HREF="../../../../org/elkoserver/server/context/BasicObject.html" title="class in org.elkoserver.server.context">BasicObject</A><DT>implements <A HREF="../../../../org/elkoserver/foundation/json/Deliverer.html" title="interface in org.elkoserver.foundation.json">Deliverer</A></DL>
</PRE>

<P>
A <A HREF="../../../../org/elkoserver/server/context/Context.html" title="class in org.elkoserver.server.context"><CODE>Context</CODE></A> is a place for interaction between connected users.  It
 is one of the three basic object types (along with <A HREF="../../../../org/elkoserver/server/context/User.html" title="class in org.elkoserver.server.context"><CODE>User</CODE></A> and <A HREF="../../../../org/elkoserver/server/context/Item.html" title="class in org.elkoserver.server.context"><CODE>Item</CODE></A>).
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_org.elkoserver.server.context.BasicObject"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class org.elkoserver.server.context.<A HREF="../../../../org/elkoserver/server/context/BasicObject.html" title="class in org.elkoserver.server.context">BasicObject</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/elkoserver/server/context/BasicObject.html#VIS_CONTAINER">VIS_CONTAINER</A>, <A HREF="../../../../org/elkoserver/server/context/BasicObject.html#VIS_NONE">VIS_NONE</A>, <A HREF="../../../../org/elkoserver/server/context/BasicObject.html#VIS_PERSONAL">VIS_PERSONAL</A>, <A HREF="../../../../org/elkoserver/server/context/BasicObject.html#VIS_PUBLIC">VIS_PUBLIC</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#baseCapacity()">baseCapacity</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Obtain the number of users who may enter (a clone of) this context
 before another clone must be created.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#closeGate(java.lang.String)">closeGate</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;reason)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Close this context's gate, blocking new users from entering.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/elkoserver/server/context/Context.html" title="class in org.elkoserver.server.context">Context</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#context()">context</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Obtain the context this object is associated with.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/elkoserver/json/JSONLiteral.html" title="class in org.elkoserver.json">JSONLiteral</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#encode(org.elkoserver.json.EncodeControl)">encode</A></B>(<A HREF="../../../../org/elkoserver/json/EncodeControl.html" title="class in org.elkoserver.json">EncodeControl</A>&nbsp;control)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Encode this context for transmission or persistence.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#exit(org.elkoserver.foundation.json.Deliverer)">exit</A></B>(<A HREF="../../../../org/elkoserver/foundation/json/Deliverer.html" title="interface in org.elkoserver.foundation.json">Deliverer</A>&nbsp;from)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handle the 'exit' verb.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#forceClose()">forceClose</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Close this context, even if it has been retained by one or more calls to
 the <A HREF="../../../../org/elkoserver/server/context/Context.html#retain()"><CODE>retain()</CODE></A> method, and even if there are still users in it
 (this means kicking those users off).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#gateIsClosed()">gateIsClosed</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Test if this context's gate is closed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/elkoserver/server/context/BasicObject.html" title="class in org.elkoserver.server.context">BasicObject</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#get(java.lang.String)">get</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;ref)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Look up an object in this context's namespace.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#getStaticObject(java.lang.String)">getStaticObject</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;ref)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Look up one of this server's static objects.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#isContainer()">isContainer</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Test if this object is a container.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#isRestricted()">isRestricted</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Test if this context is restricted, that is, whether it is closed to
 entry without an internally requested reservation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#isSemiPrivate()">isSemiPrivate</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Test if this context is semi-private.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#loadedFromRef()">loadedFromRef</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Obtain the ref of the context descriptor from which this context was
 loaded.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#maxCapacity()">maxCapacity</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Obtain the number of users who may enter before no more are allowed in.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/elkoserver/foundation/json/Deliverer.html" title="interface in org.elkoserver.foundation.json">Deliverer</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#neighbors(org.elkoserver.foundation.json.Deliverer)">neighbors</A></B>(<A HREF="../../../../org/elkoserver/foundation/json/Deliverer.html" title="interface in org.elkoserver.foundation.json">Deliverer</A>&nbsp;exclude)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Obtain a Deliverer that will deliver to all of a user's neighbors in
 this context.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#openGate()">openGate</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Open this context's gate, allowing new users in if the context is not
 full.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#registerContextShutdownWatcher(org.elkoserver.server.context.ContextShutdownWatcher)">registerContextShutdownWatcher</A></B>(<A HREF="../../../../org/elkoserver/server/context/ContextShutdownWatcher.html" title="interface in org.elkoserver.server.context">ContextShutdownWatcher</A>&nbsp;watcher)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Register a callback to be invoked when the context is shut down.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#registerUserWatcher(org.elkoserver.server.context.UserWatcher)">registerUserWatcher</A></B>(<A HREF="../../../../org/elkoserver/server/context/UserWatcher.html" title="interface in org.elkoserver.server.context">UserWatcher</A>&nbsp;watcher)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Register a callback to be invoked when a user enters or exits the
 context.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#release()">release</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Release an earlier call to <A HREF="../../../../org/elkoserver/server/context/Context.html#retain()"><CODE>retain()</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#retain()">retain</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Keep this context open even if all users exit (normally a context will
 be shut down automatically after the last user leaves).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#scheduleContextEvent(long, java.lang.Runnable)">scheduleContextEvent</A></B>(long&nbsp;millis,
                     <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang">Runnable</A>&nbsp;thunk)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Schedule a timer event associated with this context.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#send(org.elkoserver.json.JSONLiteral)">send</A></B>(<A HREF="../../../../org/elkoserver/json/JSONLiteral.html" title="class in org.elkoserver.json">JSONLiteral</A>&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Send a message to everyone in this context.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#sendObjectDescription(org.elkoserver.foundation.json.Deliverer, org.elkoserver.json.Referenceable)">sendObjectDescription</A></B>(<A HREF="../../../../org/elkoserver/foundation/json/Deliverer.html" title="interface in org.elkoserver.foundation.json">Deliverer</A>&nbsp;to,
                      <A HREF="../../../../org/elkoserver/json/Referenceable.html" title="interface in org.elkoserver.json">Referenceable</A>&nbsp;maker)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Transmit a description of this context as a series of 'make' messages,
 such that the receiver will be able to construct a local presence of it.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#sendToNeighbors(org.elkoserver.foundation.json.Deliverer, org.elkoserver.json.JSONLiteral)">sendToNeighbors</A></B>(<A HREF="../../../../org/elkoserver/foundation/json/Deliverer.html" title="interface in org.elkoserver.foundation.json">Deliverer</A>&nbsp;exclude,
                <A HREF="../../../../org/elkoserver/json/JSONLiteral.html" title="class in org.elkoserver.json">JSONLiteral</A>&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Send a message to everyone in this context save one.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../org/elkoserver/foundation/json/Deliverer.html" title="interface in org.elkoserver.foundation.json">Deliverer</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#toList(java.util.List)">toList</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../org/elkoserver/server/context/BasicObject.html" title="class in org.elkoserver.server.context">BasicObject</A>&gt;&nbsp;toList)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Obtain a Deliverer that will deliver to an arbitrary list of users.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../org/elkoserver/foundation/json/Deliverer.html" title="interface in org.elkoserver.foundation.json">Deliverer</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#toListExcluding(java.util.List, org.elkoserver.foundation.json.Deliverer)">toListExcluding</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../org/elkoserver/server/context/BasicObject.html" title="class in org.elkoserver.server.context">BasicObject</A>&gt;&nbsp;toList,
                <A HREF="../../../../org/elkoserver/foundation/json/Deliverer.html" title="interface in org.elkoserver.foundation.json">Deliverer</A>&nbsp;exclude)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Obtain a Deliverer that will deliver to an arbitrary list of users
 except for one distinguished user.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#toString()">toString</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Obtain a printable string representation of this context.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/elkoserver/util/trace/Trace.html" title="class in org.elkoserver.util.trace">Trace</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#trace()">trace</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Obtain a trace object for logging.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/elkoserver/server/context/User.html" title="class in org.elkoserver.server.context">User</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#user()">user</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Obtain the user this object is currently contained by.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#userCount()">userCount</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the number of users in this context.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</A>&lt;<A HREF="../../../../org/elkoserver/server/context/User.html" title="class in org.elkoserver.server.context">User</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/elkoserver/server/context/Context.html#userIterator()">userIterator</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Obtain an iterator over the users currently in this context.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.elkoserver.server.context.BasicObject"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class org.elkoserver.server.context.<A HREF="../../../../org/elkoserver/server/context/BasicObject.html" title="class in org.elkoserver.server.context">BasicObject</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/elkoserver/server/context/BasicObject.html#baseRef()">baseRef</A>, <A HREF="../../../../org/elkoserver/server/context/BasicObject.html#checkpoint()">checkpoint</A>, <A HREF="../../../../org/elkoserver/server/context/BasicObject.html#checkpoint(org.elkoserver.util.ArgRunnable)">checkpoint</A>, <A HREF="../../../../org/elkoserver/server/context/BasicObject.html#container()">container</A>, <A HREF="../../../../org/elkoserver/server/context/BasicObject.html#contents()">contents</A>, <A HREF="../../../../org/elkoserver/server/context/BasicObject.html#contextor()">contextor</A>, <A HREF="../../../../org/elkoserver/server/context/BasicObject.html#createItem(java.lang.String, boolean, boolean)">createItem</A>, <A HREF="../../../../org/elkoserver/server/context/BasicObject.html#findActualTarget(java.lang.Class)">findActualTarget</A>, <A HREF="../../../../org/elkoserver/server/context/BasicObject.html#getMod(java.lang.Class)">getMod</A>, <A HREF="../../../../org/elkoserver/server/context/BasicObject.html#handleMessage(org.elkoserver.foundation.json.Deliverer, org.elkoserver.json.JSONObject)">handleMessage</A>, <A HREF="../../../../org/elkoserver/server/context/BasicObject.html#holder()">holder</A>, <A HREF="../../../../org/elkoserver/server/context/BasicObject.html#isClone()">isClone</A>, <A HREF="../../../../org/elkoserver/server/context/BasicObject.html#isEphemeral()">isEphemeral</A>, <A HREF="../../../../org/elkoserver/server/context/BasicObject.html#markAsChanged()">markAsChanged</A>, <A HREF="../../../../org/elkoserver/server/context/BasicObject.html#markAsDeleted()">markAsDeleted</A>, <A HREF="../../../../org/elkoserver/server/context/BasicObject.html#markAsEphemeral()">markAsEphemeral</A>, <A HREF="../../../../org/elkoserver/server/context/BasicObject.html#name()">name</A>, <A HREF="../../../../org/elkoserver/server/context/BasicObject.html#noteCodependent(org.elkoserver.server.context.BasicObject)">noteCodependent</A>, <A HREF="../../../../org/elkoserver/server/context/BasicObject.html#objectIsComplete()">objectIsComplete</A>, <A HREF="../../../../org/elkoserver/server/context/BasicObject.html#position()">position</A>, <A HREF="../../../../org/elkoserver/server/context/BasicObject.html#ref()">ref</A>, <A HREF="../../../../org/elkoserver/server/context/BasicObject.html#sendToClones(org.elkoserver.json.JSONLiteral)">sendToClones</A>, <A HREF="../../../../org/elkoserver/server/context/BasicObject.html#setName(java.lang.String)">setName</A>, <A HREF="../../../../org/elkoserver/server/context/BasicObject.html#setPosition(org.elkoserver.server.context.Position)">setPosition</A>, <A HREF="../../../../org/elkoserver/server/context/BasicObject.html#setVisibility(int)">setVisibility</A>, <A HREF="../../../../org/elkoserver/server/context/BasicObject.html#visibleTo(org.elkoserver.foundation.json.Deliverer)">visibleTo</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="baseCapacity()"><!-- --></A><H3>
baseCapacity</H3>
<PRE>
public int <B>baseCapacity</B>()</PRE>
<DL>
<DD>Obtain the number of users who may enter (a clone of) this context
 before another clone must be created.  When the user count of the
 context reaches this number, users may still enter this specific clone
 if they specify its cloned context ID explicitly (and as long as <A HREF="../../../../org/elkoserver/server/context/Context.html#maxCapacity()"><CODE>maxCapacity()</CODE></A> is not exceeded), but users who request entry to the
 context by specifying its generic context ID (that is, its ID before
 cloning) will be directed to a different clone.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the number of users who may enter before the context clones.</DL>
</DD>
</DL>
<HR>

<A NAME="closeGate(java.lang.String)"><!-- --></A><H3>
closeGate</H3>
<PRE>
public void <B>closeGate</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;reason)</PRE>
<DL>
<DD>Close this context's gate, blocking new users from entering.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>reason</CODE> - String describing why this is being done.</DL>
</DD>
</DL>
<HR>

<A NAME="forceClose()"><!-- --></A><H3>
forceClose</H3>
<PRE>
public void <B>forceClose</B>()</PRE>
<DL>
<DD>Close this context, even if it has been retained by one or more calls to
 the <A HREF="../../../../org/elkoserver/server/context/Context.html#retain()"><CODE>retain()</CODE></A> method, and even if there are still users in it
 (this means kicking those users off).
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="gateIsClosed()"><!-- --></A><H3>
gateIsClosed</H3>
<PRE>
public boolean <B>gateIsClosed</B>()</PRE>
<DL>
<DD>Test if this context's gate is closed.  If the gate is closed, new users
 may not enter, even if the context is not full.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>true iff this context's gate is closed.</DL>
</DD>
</DL>
<HR>

<A NAME="get(java.lang.String)"><!-- --></A><H3>
get</H3>
<PRE>
public <A HREF="../../../../org/elkoserver/server/context/BasicObject.html" title="class in org.elkoserver.server.context">BasicObject</A> <B>get</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;ref)</PRE>
<DL>
<DD>Look up an object in this context's namespace.  Note that the context's
 namespace is not the context's contents but the namespace of object
 identifiers that the context uses for resolving object references.  This
 may be (indeed, normally is) shared with other active contexts on the
 same server.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ref</CODE> - Reference string denoting the object desired.
<DT><B>Returns:</B><DD>the object corresponding to 'ref', or null if there is no such
    object in the context's namespace.</DL>
</DD>
</DL>
<HR>

<A NAME="getStaticObject(java.lang.String)"><!-- --></A><H3>
getStaticObject</H3>
<PRE>
public <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A> <B>getStaticObject</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;ref)</PRE>
<DL>
<DD>Look up one of this server's static objects.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ref</CODE> - Reference string denoting the object of interest.
<DT><B>Returns:</B><DD>the static object corresponding to 'ref', or null if there is no
    such object in the server's static object table.</DL>
</DD>
</DL>
<HR>

<A NAME="isSemiPrivate()"><!-- --></A><H3>
isSemiPrivate</H3>
<PRE>
public boolean <B>isSemiPrivate</B>()</PRE>
<DL>
<DD>Test if this context is semi-private.  In a semi-private context, users
 appear to be in the context by themselves.  They don't see each other
 come or go, and the 'push' and 'say' messages do not fan to the entire
 context.  If mods wish to comply with the semi-private context concept
 (most won't), they need to use this test.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the state of this context's semi-private flag.</DL>
</DD>
</DL>
<HR>

<A NAME="isRestricted()"><!-- --></A><H3>
isRestricted</H3>
<PRE>
public boolean <B>isRestricted</B>()</PRE>
<DL>
<DD>Test if this context is restricted, that is, whether it is closed to
 entry without an internally requested reservation.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>true iff this is a restricted context.</DL>
</DD>
</DL>
<HR>

<A NAME="loadedFromRef()"><!-- --></A><H3>
loadedFromRef</H3>
<PRE>
public <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>loadedFromRef</B>()</PRE>
<DL>
<DD>Obtain the ref of the context descriptor from which this context was
 loaded.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="maxCapacity()"><!-- --></A><H3>
maxCapacity</H3>
<PRE>
public int <B>maxCapacity</B>()</PRE>
<DL>
<DD>Obtain the number of users who may enter before no more are allowed in.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the number of users who may enter before the context becomes
    full.</DL>
</DD>
</DL>
<HR>

<A NAME="openGate()"><!-- --></A><H3>
openGate</H3>
<PRE>
public void <B>openGate</B>()</PRE>
<DL>
<DD>Open this context's gate, allowing new users in if the context is not
 full.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="registerContextShutdownWatcher(org.elkoserver.server.context.ContextShutdownWatcher)"><!-- --></A><H3>
registerContextShutdownWatcher</H3>
<PRE>
public void <B>registerContextShutdownWatcher</B>(<A HREF="../../../../org/elkoserver/server/context/ContextShutdownWatcher.html" title="interface in org.elkoserver.server.context">ContextShutdownWatcher</A>&nbsp;watcher)</PRE>
<DL>
<DD>Register a callback to be invoked when the context is shut down.  Any
 number of such callbacks may be registered.  The callback will be
 invoked after all users have gone but immediately before the context is
 checkpointed.  In particular, shutdown watchers may make changes to the
 persistable state that will be checkpointed when the context is finally
 shut down.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>watcher</CODE> - An object to notify when the context is shut down.</DL>
</DD>
</DL>
<HR>

<A NAME="registerUserWatcher(org.elkoserver.server.context.UserWatcher)"><!-- --></A><H3>
registerUserWatcher</H3>
<PRE>
public void <B>registerUserWatcher</B>(<A HREF="../../../../org/elkoserver/server/context/UserWatcher.html" title="interface in org.elkoserver.server.context">UserWatcher</A>&nbsp;watcher)</PRE>
<DL>
<DD>Register a callback to be invoked when a user enters or exits the
 context.  Any number of such callbacks may be registered.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>watcher</CODE> - An object to notify when a user arrives.</DL>
</DD>
</DL>
<HR>

<A NAME="release()"><!-- --></A><H3>
release</H3>
<PRE>
public void <B>release</B>()</PRE>
<DL>
<DD>Release an earlier call to <A HREF="../../../../org/elkoserver/server/context/Context.html#retain()"><CODE>retain()</CODE></A>.  When <A HREF="../../../../org/elkoserver/server/context/Context.html#release()"><CODE>release()</CODE></A> has
 been called the same number of times as <A HREF="../../../../org/elkoserver/server/context/Context.html#retain()"><CODE>retain()</CODE></A> has been, the
 context is free to shut down when empty.  If the context is already
 empty, it will be shut down immediately.  Calls to this method in excess
 of the number of calls to <A HREF="../../../../org/elkoserver/server/context/Context.html#retain()"><CODE>retain()</CODE></A> will be ignored.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="retain()"><!-- --></A><H3>
retain</H3>
<PRE>
public void <B>retain</B>()</PRE>
<DL>
<DD>Keep this context open even if all users exit (normally a context will
 be shut down automatically after the last user leaves).  Each call to
 <A HREF="../../../../org/elkoserver/server/context/Context.html#retain()"><CODE>retain()</CODE></A> must be matched by a corresponding call to <A HREF="../../../../org/elkoserver/server/context/Context.html#release()"><CODE>release()</CODE></A> in order for the context to be permitted to close normally
 (though it can still be closed by called <A HREF="../../../../org/elkoserver/server/context/Context.html#forceClose()"><CODE>forceClose()</CODE></A>).
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="scheduleContextEvent(long, java.lang.Runnable)"><!-- --></A><H3>
scheduleContextEvent</H3>
<PRE>
public void <B>scheduleContextEvent</B>(long&nbsp;millis,
                                 <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang">Runnable</A>&nbsp;thunk)</PRE>
<DL>
<DD>Schedule a timer event associated with this context.  This is different
 from scheduling a timer event directly using the Timer class in two
 significant ways: first, it ensures that the context is retained until
 after the event happens; second, it executes the event handler thunk on
 the server's run queue instead of in the Timer thread, so that we won't
 get reentrancy.

 Another notable difference is that unlike direct Timer events, there is
 no explicit cancellation mechanism.  However, since the Timer's
 cancellation mechanism is not really as useful as it might at first
 appear, this is not as signficant.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>millis</CODE> - How long to wait until timing out.<DD><CODE>thunk</CODE> - Thunk to be run when the timeout happens.</DL>
</DD>
</DL>
<HR>

<A NAME="sendObjectDescription(org.elkoserver.foundation.json.Deliverer, org.elkoserver.json.Referenceable)"><!-- --></A><H3>
sendObjectDescription</H3>
<PRE>
public void <B>sendObjectDescription</B>(<A HREF="../../../../org/elkoserver/foundation/json/Deliverer.html" title="interface in org.elkoserver.foundation.json">Deliverer</A>&nbsp;to,
                                  <A HREF="../../../../org/elkoserver/json/Referenceable.html" title="interface in org.elkoserver.json">Referenceable</A>&nbsp;maker)</PRE>
<DL>
<DD>Transmit a description of this context as a series of 'make' messages,
 such that the receiver will be able to construct a local presence of it.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/elkoserver/server/context/BasicObject.html#sendObjectDescription(org.elkoserver.foundation.json.Deliverer, org.elkoserver.json.Referenceable)">sendObjectDescription</A></CODE> in class <CODE><A HREF="../../../../org/elkoserver/server/context/BasicObject.html" title="class in org.elkoserver.server.context">BasicObject</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>to</CODE> - Where to send the description.<DD><CODE>maker</CODE> - Maker object to address the message(s) to.</DL>
</DD>
</DL>
<HR>

<A NAME="sendToNeighbors(org.elkoserver.foundation.json.Deliverer, org.elkoserver.json.JSONLiteral)"><!-- --></A><H3>
sendToNeighbors</H3>
<PRE>
public void <B>sendToNeighbors</B>(<A HREF="../../../../org/elkoserver/foundation/json/Deliverer.html" title="interface in org.elkoserver.foundation.json">Deliverer</A>&nbsp;exclude,
                            <A HREF="../../../../org/elkoserver/json/JSONLiteral.html" title="class in org.elkoserver.json">JSONLiteral</A>&nbsp;message)</PRE>
<DL>
<DD>Send a message to everyone in this context save one.  This message will
 be delivered to every client whose user is currently in the context
 except the one specified by the 'exclude' parameter.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>exclude</CODE> - Who to exclude from the send operation.<DD><CODE>message</CODE> - The message to send.</DL>
</DD>
</DL>
<HR>

<A NAME="neighbors(org.elkoserver.foundation.json.Deliverer)"><!-- --></A><H3>
neighbors</H3>
<PRE>
public <A HREF="../../../../org/elkoserver/foundation/json/Deliverer.html" title="interface in org.elkoserver.foundation.json">Deliverer</A> <B>neighbors</B>(<A HREF="../../../../org/elkoserver/foundation/json/Deliverer.html" title="interface in org.elkoserver.foundation.json">Deliverer</A>&nbsp;exclude)</PRE>
<DL>
<DD>Obtain a Deliverer that will deliver to all of a user's neighbors in
 this context.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>exclude</CODE> - Who to exclude from the send operation.
<DT><B>Returns:</B><DD>a Deliverer that wraps Context.sendToNeighbors</DL>
</DD>
</DL>
<HR>

<A NAME="toList(java.util.List)"><!-- --></A><H3>
toList</H3>
<PRE>
public static <A HREF="../../../../org/elkoserver/foundation/json/Deliverer.html" title="interface in org.elkoserver.foundation.json">Deliverer</A> <B>toList</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../org/elkoserver/server/context/BasicObject.html" title="class in org.elkoserver.server.context">BasicObject</A>&gt;&nbsp;toList)</PRE>
<DL>
<DD>Obtain a Deliverer that will deliver to an arbitrary list of users.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>toList</CODE> - List of users to deliver to
<DT><B>Returns:</B><DD>a Deliverer that wraps toList</DL>
</DD>
</DL>
<HR>

<A NAME="toListExcluding(java.util.List, org.elkoserver.foundation.json.Deliverer)"><!-- --></A><H3>
toListExcluding</H3>
<PRE>
public static <A HREF="../../../../org/elkoserver/foundation/json/Deliverer.html" title="interface in org.elkoserver.foundation.json">Deliverer</A> <B>toListExcluding</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../org/elkoserver/server/context/BasicObject.html" title="class in org.elkoserver.server.context">BasicObject</A>&gt;&nbsp;toList,
                                        <A HREF="../../../../org/elkoserver/foundation/json/Deliverer.html" title="interface in org.elkoserver.foundation.json">Deliverer</A>&nbsp;exclude)</PRE>
<DL>
<DD>Obtain a Deliverer that will deliver to an arbitrary list of users
 except for one distinguished user.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>toList</CODE> - List of users to deliver to<DD><CODE>exclude</CODE> - The one to exclude
<DT><B>Returns:</B><DD>a Deliverer that wraps toList, taking note to exclude the one
    odd user out</DL>
</DD>
</DL>
<HR>

<A NAME="toString()"><!-- --></A><H3>
toString</H3>
<PRE>
public <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>toString</B>()</PRE>
<DL>
<DD>Obtain a printable string representation of this context.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A></CODE> in class <CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>a printable representation of this context.</DL>
</DD>
</DL>
<HR>

<A NAME="trace()"><!-- --></A><H3>
trace</H3>
<PRE>
public <A HREF="../../../../org/elkoserver/util/trace/Trace.html" title="class in org.elkoserver.util.trace">Trace</A> <B>trace</B>()</PRE>
<DL>
<DD>Obtain a trace object for logging.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>a trace object for generating log messages from this context.</DL>
</DD>
</DL>
<HR>

<A NAME="userCount()"><!-- --></A><H3>
userCount</H3>
<PRE>
public int <B>userCount</B>()</PRE>
<DL>
<DD>Get the number of users in this context.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the number of users currently in this context.</DL>
</DD>
</DL>
<HR>

<A NAME="userIterator()"><!-- --></A><H3>
userIterator</H3>
<PRE>
public <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</A>&lt;<A HREF="../../../../org/elkoserver/server/context/User.html" title="class in org.elkoserver.server.context">User</A>&gt; <B>userIterator</B>()</PRE>
<DL>
<DD>Obtain an iterator over the users currently in this context.  Note that
 this iterator is only valid within a single turn.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>an @{link java.util.Iterator} over this context's current users.</DL>
</DD>
</DL>
<HR>

<A NAME="exit(org.elkoserver.foundation.json.Deliverer)"><!-- --></A><H3>
exit</H3>
<PRE>
<FONT SIZE="-1"><A HREF="../../../../org/elkoserver/foundation/json/JSONMethod.html" title="annotation in org.elkoserver.foundation.json">@JSONMethod</A>
</FONT>public void <B>exit</B>(<A HREF="../../../../org/elkoserver/foundation/json/Deliverer.html" title="interface in org.elkoserver.foundation.json">Deliverer</A>&nbsp;from)
          throws <A HREF="../../../../org/elkoserver/foundation/json/MessageHandlerException.html" title="class in org.elkoserver.foundation.json">MessageHandlerException</A></PRE>
<DL>
<DD>Handle the 'exit' verb.

 Exit the context and disconnect the user who sent it.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/elkoserver/foundation/json/MessageHandlerException.html" title="class in org.elkoserver.foundation.json">MessageHandlerException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="context()"><!-- --></A><H3>
context</H3>
<PRE>
public <A HREF="../../../../org/elkoserver/server/context/Context.html" title="class in org.elkoserver.server.context">Context</A> <B>context</B>()</PRE>
<DL>
<DD>Obtain the context this object is associated with.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/elkoserver/server/context/BasicObject.html#context()">context</A></CODE> in class <CODE><A HREF="../../../../org/elkoserver/server/context/BasicObject.html" title="class in org.elkoserver.server.context">BasicObject</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the context itself.</DL>
</DD>
</DL>
<HR>

<A NAME="isContainer()"><!-- --></A><H3>
isContainer</H3>
<PRE>
public boolean <B>isContainer</B>()</PRE>
<DL>
<DD>Test if this object is a container.  (Note: in this case, it is.)
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/elkoserver/server/context/BasicObject.html#isContainer()">isContainer</A></CODE> in class <CODE><A HREF="../../../../org/elkoserver/server/context/BasicObject.html" title="class in org.elkoserver.server.context">BasicObject</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>true -- all contexts are containers.</DL>
</DD>
</DL>
<HR>

<A NAME="user()"><!-- --></A><H3>
user</H3>
<PRE>
public <A HREF="../../../../org/elkoserver/server/context/User.html" title="class in org.elkoserver.server.context">User</A> <B>user</B>()</PRE>
<DL>
<DD>Obtain the user this object is currently contained by.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/elkoserver/server/context/BasicObject.html#user()">user</A></CODE> in class <CODE><A HREF="../../../../org/elkoserver/server/context/BasicObject.html" title="class in org.elkoserver.server.context">BasicObject</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>null, since a context is never contained by a user.</DL>
</DD>
</DL>
<HR>

<A NAME="send(org.elkoserver.json.JSONLiteral)"><!-- --></A><H3>
send</H3>
<PRE>
public void <B>send</B>(<A HREF="../../../../org/elkoserver/json/JSONLiteral.html" title="class in org.elkoserver.json">JSONLiteral</A>&nbsp;message)</PRE>
<DL>
<DD>Send a message to everyone in this context.  The message will be
 delivered to every client whose user is currently in the context.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/elkoserver/foundation/json/Deliverer.html#send(org.elkoserver.json.JSONLiteral)">send</A></CODE> in interface <CODE><A HREF="../../../../org/elkoserver/foundation/json/Deliverer.html" title="interface in org.elkoserver.foundation.json">Deliverer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>message</CODE> - The message to send.</DL>
</DD>
</DL>
<HR>

<A NAME="encode(org.elkoserver.json.EncodeControl)"><!-- --></A><H3>
encode</H3>
<PRE>
public <A HREF="../../../../org/elkoserver/json/JSONLiteral.html" title="class in org.elkoserver.json">JSONLiteral</A> <B>encode</B>(<A HREF="../../../../org/elkoserver/json/EncodeControl.html" title="class in org.elkoserver.json">EncodeControl</A>&nbsp;control)</PRE>
<DL>
<DD>Encode this context for transmission or persistence.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/elkoserver/json/Encodable.html#encode(org.elkoserver.json.EncodeControl)">encode</A></CODE> in interface <CODE><A HREF="../../../../org/elkoserver/json/Encodable.html" title="interface in org.elkoserver.json">Encodable</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>control</CODE> - Encode control determining what flavor of encoding
    should be done.
<DT><B>Returns:</B><DD>a JSON literal representing this context.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/elkoserver/server/context/ContentsWatcher.html" title="interface in org.elkoserver.server.context"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/elkoserver/server/context/ContextKey.html" title="interface in org.elkoserver.server.context"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/elkoserver/server/context/Context.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Context.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#fields_inherited_from_class_org.elkoserver.server.context.BasicObject">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
